<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../../../application/modules/Carbon/resources/js/helpers/paginator_helper.js - Sourcetrak</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Sourcetrak" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/aa.html">aa</a></li>
                                <li><a href="../classes/act_on.html">act_on</a></li>
                                <li><a href="../classes/Collections.Activities.html">Collections.Activities</a></li>
                                <li><a href="../classes/Collections.DomainSets.html">Collections.DomainSets</a></li>
                                <li><a href="../classes/Collections.Locations.html">Collections.Locations</a></li>
                                <li><a href="../classes/Collections.PaginatedActivities.html">Collections.PaginatedActivities</a></li>
                                <li><a href="../classes/Collections.PaginatedLocations.html">Collections.PaginatedLocations</a></li>
                                <li><a href="../classes/Collections.Patterns.html">Collections.Patterns</a></li>
                                <li><a href="../classes/Collections.Pools.html">Collections.Pools</a></li>
                                <li><a href="../classes/Collections.ReplacementNumbers.html">Collections.ReplacementNumbers</a></li>
                                <li><a href="../classes/Collections.Routing.html">Collections.Routing</a></li>
                                <li><a href="../classes/Collections.Schedules.html">Collections.Schedules</a></li>
                                <li><a href="../classes/Collections.SubCollection.html">Collections.SubCollection</a></li>
                                <li><a href="../classes/hubspot.html">hubspot</a></li>
                                <li><a href="../classes/Mixins.AudioFileUploadBtn.html">Mixins.AudioFileUploadBtn</a></li>
                                <li><a href="../classes/Mixins.Autosave.html">Mixins.Autosave</a></li>
                                <li><a href="../classes/Mixins.Autoset.html">Mixins.Autoset</a></li>
                                <li><a href="../classes/Mixins.ClientPagination.html">Mixins.ClientPagination</a></li>
                                <li><a href="../classes/Mixins.HighlightInvalid.html">Mixins.HighlightInvalid</a></li>
                                <li><a href="../classes/Mixins.Loading.html">Mixins.Loading</a></li>
                                <li><a href="../classes/Mixins.Transform.html">Mixins.Transform</a></li>
                                <li><a href="../classes/Models.Activity.html">Models.Activity</a></li>
                                <li><a href="../classes/Models.Location.html">Models.Location</a></li>
                                <li><a href="../classes/Models.Pattern.html">Models.Pattern</a></li>
                                <li><a href="../classes/Models.Pool.html">Models.Pool</a></li>
                                <li><a href="../classes/Models.Routing.html">Models.Routing</a></li>
                                <li><a href="../classes/Models.Schedule.html">Models.Schedule</a></li>
                                <li><a href="../classes/Models.State.html">Models.State</a></li>
                                <li><a href="../classes/Models.SubModel.html">Models.SubModel</a></li>
                                <li><a href="../classes/op.html">op</a></li>
                                <li><a href="../classes/Validator.html">Validator</a></li>
                                <li><a href="../classes/Views.Activity.html">Views.Activity</a></li>
                                <li><a href="../classes/Views.ActivityAdd.html">Views.ActivityAdd</a></li>
                                <li><a href="../classes/Views.ActivityCreate.html">Views.ActivityCreate</a></li>
                                <li><a href="../classes/Views.ActivityDestroy.html">Views.ActivityDestroy</a></li>
                                <li><a href="../classes/Views.ActivityDisplay.html">Views.ActivityDisplay</a></li>
                                <li><a href="../classes/Views.ActivityEdit.html">Views.ActivityEdit</a></li>
                                <li><a href="../classes/Views.ActivityEditAdvanced.html">Views.ActivityEditAdvanced</a></li>
                                <li><a href="../classes/Views.ActivityList.html">Views.ActivityList</a></li>
                                <li><a href="../classes/Views.ActivityPool.html">Views.ActivityPool</a></li>
                                <li><a href="../classes/Views.ActivityPoolEdit.html">Views.ActivityPoolEdit</a></li>
                                <li><a href="../classes/Views.AdvancedOptionsModal.html">Views.AdvancedOptionsModal</a></li>
                                <li><a href="../classes/Views.CopyToClipboard.html">Views.CopyToClipboard</a></li>
                                <li><a href="../classes/Views.DeleteLocationModal.html">Views.DeleteLocationModal</a></li>
                                <li><a href="../classes/Views.Domain.html">Views.Domain</a></li>
                                <li><a href="../classes/Views.DomainSetItem.html">Views.DomainSetItem</a></li>
                                <li><a href="../classes/Views.DomainsPopover.html">Views.DomainsPopover</a></li>
                                <li><a href="../classes/Views.EditPoolToolbar.html">Views.EditPoolToolbar</a></li>
                                <li><a href="../classes/Views.Graph.html">Views.Graph</a></li>
                                <li><a href="../classes/Views.listControls.html">Views.listControls</a></li>
                                <li><a href="../classes/Views.LocationItem.html">Views.LocationItem</a></li>
                                <li><a href="../classes/Views.LocationsList.html">Views.LocationsList</a></li>
                                <li><a href="../classes/Views.Main.html">Views.Main</a></li>
                                <li><a href="../classes/Views.Modal.html">Views.Modal</a></li>
                                <li><a href="../classes/Views.Modal2.html">Views.Modal2</a></li>
                                <li><a href="../classes/Views.ModalPageView.html">Views.ModalPageView</a></li>
                                <li><a href="../classes/Views.Numbers.html">Views.Numbers</a></li>
                                <li><a href="../classes/Views.PageView.html">Views.PageView</a></li>
                                <li><a href="../classes/Views.Poolbar.html">Views.Poolbar</a></li>
                                <li><a href="../classes/Views.PoolsDashboard.html">Views.PoolsDashboard</a></li>
                                <li><a href="../classes/Views.PoolsList.html">Views.PoolsList</a></li>
                                <li><a href="../classes/Views.PoolsListItem.html">Views.PoolsListItem</a></li>
                                <li><a href="../classes/Views.Popover.html">Views.Popover</a></li>
                                <li><a href="../classes/Views.SearchBox.html">Views.SearchBox</a></li>
                                <li><a href="../classes/Views.SnippetModal.html">Views.SnippetModal</a></li>
                                <li><a href="../classes/Views.Toolbar.html">Views.Toolbar</a></li>
                                <li><a href="../classes/Views.VersionHashError.html">Views.VersionHashError</a></li>
                                <li><a href="../classes/Views.Wizard.html">Views.Wizard</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Carbon.html">Carbon</a></li>
                                <li><a href="../modules/Integration.html">Integration</a></li>
                                <li><a href="../modules/SourceTrak.html">SourceTrak</a></li>
                                <li><a href="../modules/Sourcetrak.html">Sourcetrak</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: ../../../application/modules/Carbon/resources/js/helpers/paginator_helper.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Generates the paginator controls in the IBP style
 * Designed to be used with Carbon.Mixins.ClientPagination
 *
 * @method paginatorControls
 * @param state {Object} ClientPagination state object used to calculate page buttons
 */
Handlebars.registerHelper(&#x27;paginatorControls&#x27;, function (state) {
    var buffer  = [&#x27;&lt;ul&gt;&#x27;],
        current = state.currentPage,
        last    = state.lastPage
        total   = Math.ceil(state.totalItems/state.pageSize)
        // use nav controls if we have enough to show the full display range plus the first and last pages
        useNav  = total &gt; state.displayRange + 2;

    if (useNav) {
        var r = state.displayRange,
            i = current - Math.floor(r/2),
            l = current + Math.ceil(r/2);

        // don&#x27;t include first page in center display
        if (current &lt; r) {
            // i starts at 2 since pages are 1-indexed
            i = 2;
            l = r + 2;
        }

        // don&#x27;t include last page in center display
        if ((last - current) &lt; r ) {
            i = last - r;
            l = last;
        }

        // first page button
        buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control&quot; data-page=&quot;1&quot;&gt;1&lt;/li&gt;&#x27;);

        // the previous button goes just after the first page
        buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control icon-arrow-left&quot; data-page=&quot;previous&quot;&gt;&lt;/li&gt;&#x27;);

        // fill in the buttons for the center display
        for (; i &lt; l; i++) {
            buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control&quot; data-page=&quot;&#x27; + i + &#x27;&quot;&gt;&#x27; + i + &#x27;&lt;/li&gt;&#x27;);
        }

        // the next button goes just before the last page
        buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control icon-arrow-right&quot; data-page=&quot;next&quot;&gt;&lt;/li&gt;&#x27;);

        // last page button
        buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control&quot; data-page=&quot;&#x27; + last + &#x27;&quot;&gt;&#x27; + last + &#x27;&lt;/li&gt;&#x27;);
    }
    else {
        for (var i = 1; i &lt;= total; i++) {
            buffer.push(&#x27;&lt;li class=&quot;paginator-control js-paginator-control&quot; data-page=&quot;&#x27; + i + &#x27;&quot;&gt;&#x27; + i + &#x27;&lt;/li&gt;&#x27;);
        }
    }

    buffer.push(&#x27;&lt;/ul&gt;&#x27;);

    return buffer.join(&#x27;&#x27;);
});


/**
 * DEPRECATED. ONLY USED IN IVR. DO NOT USE.
 * Generates the paginator controls in the IBP style
 * Designed to be used with Carbon.Collections.Paginator
 *
 * @method pages
 * @param list {Array} Convience array of objects used to calculate page buttons
 * @param info {Object} Paginator state object
 * @param options {Object} Handlebars convention
 */
Handlebars.registerHelper(&#x27;pages&#x27;, function(list, info, options) {
    var buffer = [];
    // Add 2 to compensate for displaying nav buttons
    if (list.length &gt; info.displayRange+2) {
        var r = info.displayRange,
            lastPage = list[info.lastPage],
            i = info.currentPage - Math.floor(r/2),
            l = info.currentPage + Math.ceil(r/2);

        // First page
        buffer.push(&#x27;&lt;li class=&quot;pageCtrl&quot; id=&quot;page-&#x27;+list[0].page+&#x27;&quot; data-action=&quot;&#x27;+list[0].action+&#x27;&quot;&gt;&#x27;+list[0].page+&#x27;&lt;/li&gt;&#x27;);
        // Nav prev
        buffer.push(&#x27;&lt;li class=&quot;pageCtrl icon-arrow-left&quot; data-action=&quot;page:previous&quot;&gt;&lt;/li&gt;&#x27;);

        // Don&#x27;t include first page in center display
        if (info.currentPage &lt; r) {
            i = 1;
            l = r + 1;
        }
        // Don&#x27;t include last page in center display
        if ((info.lastPage - info.currentPage) &lt; r ) {
            i = info.lastPage - r;
            l = info.lastPage;
        }

        for (i; i &lt; l; i++) {
            buffer.push(&#x27;&lt;li class=&quot;pageCtrl&quot; id=&quot;page-&#x27;+list[i].page+&#x27;&quot; data-action=&quot;&#x27;+list[i].action+&#x27;&quot;&gt;&#x27;+list[i].page+&#x27;&lt;/li&gt;&#x27;);
        }

        // Nav next
        buffer.push(&#x27;&lt;li class=&quot;pageCtrl icon-arrow-right&quot; data-action=&quot;page:next&quot;&gt;&lt;/li&gt;&#x27;);
        // Last page
        buffer.push(&#x27;&lt;li class=&quot;pageCtrl&quot; id=&quot;page-&#x27;+lastPage.page+&#x27;&quot; data-action=&quot;&#x27;+lastPage.action+&#x27;&quot;&gt;&#x27;+lastPage.page+&#x27;&lt;/li&gt;&#x27;);
    } else {
        // push li for all
        list.forEach(function (page) {
            var li = &#x27;&lt;li class=&quot;pageCtrl&quot; id=&quot;page-&#x27;+page.page+&#x27;&quot; data-action=&quot;&#x27;+page.action+&#x27;&quot;&gt;&#x27;+page.page+&#x27;&lt;/li&gt;&#x27;;
            buffer.push(li);
        });
    }

    return buffer.join(&#x27;&#x27;);
});

/**
 * DEPRECATED. ONLY USED IN IVR. DO NOT USE.
 * Generates the count currently being displayed by the paginator
 * Designed to be used with Carbon.Collections.Paginator
 *
 * @method pager_count
 * @param info {Object} Paginator state object
 * @param list {Array} Convience array of objects used to calculate page buttons
 * @param options {Object} Handlebars convention
 */
Handlebars.registerHelper(&#x27;pager_count&#x27;, function(info, list, options) {
    var buffer = [];

    list.forEach(function (page) {
        if ((page.page-1) === info.currentPage) {
            if (page.range.start === page.range.end) {
                buffer.push(page.range.start + &#x27; of &#x27; + info.totalItems);
            } else {
                buffer.push(page.range.start + &#x27; - &#x27; + page.range.end + &#x27; of &#x27; + info.totalItems);
            }
        }
    });

    return buffer.join(&#x27;&#x27;);
});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
